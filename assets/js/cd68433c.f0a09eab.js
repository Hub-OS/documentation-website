"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[9213],{7655:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var r=t(4848),a=t(8453);const o={},i="Actor Property Animations",s={id:"server/lua-api/actor-property-animations",title:"Actor Property Animations",description:"Animations over actor properties. Players and bots are actors.",source:"@site/docs/02-server/04-lua-api/10-actor-property-animations.md",sourceDirName:"02-server/04-lua-api",slug:"/server/lua-api/actor-property-animations",permalink:"/server/lua-api/actor-property-animations",draft:!1,unlisted:!1,editUrl:"https://github.com/Hub-OS/documentation-website/tree/master/docs/02-server/04-lua-api/10-actor-property-animations.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{},sidebar:"serverSidebar",previous:{title:"Bots",permalink:"/server/lua-api/bots"},next:{title:"Assets",permalink:"/server/lua-api/assets"}},l={},p=[{value:"<code>Net.animate_player_properties(player_id, keyframes)</code>",id:"netanimate_player_propertiesplayer_id-keyframes",level:3},{value:"<code>Net.animate_bot_properties(bot_id, keyframes)</code>",id:"netanimate_bot_propertiesbot_id-keyframes",level:3},{value:"Net.ActorKeyframe",id:"netactorkeyframe",level:2},{value:"Net.ActorPropertyKeyframe",id:"netactorpropertykeyframe",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"actor-property-animations",children:"Actor Property Animations"}),"\n",(0,r.jsx)(n.p,{children:"Animations over actor properties. Players and bots are actors."}),"\n",(0,r.jsx)(n.p,{children:"Inspired by CSS animations."}),"\n",(0,r.jsx)(n.h3,{id:"netanimate_player_propertiesplayer_id-keyframes",children:(0,r.jsx)(n.code,{children:"Net.animate_player_properties(player_id, keyframes)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"keyframes"}),": ",(0,r.jsx)(n.a,{href:"#netactorkeyframe",children:"Net.ActorKeyframe[]"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Interpolated animation for fancy effects."}),"\n",(0,r.jsx)(n.p,{children:'If a keyframe at duration 0 does not exist for a property, the client will default to initial values or a blank value. Ex: X/Y/Z will use the actor\'s current position, and "Sound Effect" would use blank / play no sounds.'}),"\n",(0,r.jsx)(n.p,{children:"If the position is not animated, the player can control their actor while the animations play."}),"\n",(0,r.jsx)(n.p,{children:"The final state of the animation will stick to the player, excluding sounds."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'Net:on("tile_interaction", function(event)\n  local position = Net.get_player_position(event.player_id)\n\n  -- a stretched jump. if the player disappears, you may need to add a new tile layer\n  local keyframes = {\n    {\n      properties = {\n        { property = "Z",      value = position.z + 1, ease = "Out" },\n        { property = "ScaleY", value = 1.5,            ease = "Out" }\n      },\n      duration = 0.5\n    },\n    {\n      properties = {\n        { property = "Z",      value = position.z, ease = "In" },\n        { property = "ScaleY", value = 1,          ease = "In" }\n      },\n      duration = 0.5\n    }\n  }\n\n  Net.animate_player_properties(event.player_id, keyframes)\nend)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["If you need something to happen when the animation ends, you should use ",(0,r.jsx)(n.a,{href:"/server/lua-api/async#asyncsleepseconds",children:"Async.sleep()"})]}),"\n",(0,r.jsx)(n.h3,{id:"netanimate_bot_propertiesbot_id-keyframes",children:(0,r.jsx)(n.code,{children:"Net.animate_bot_properties(bot_id, keyframes)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"keyframes"}),": ",(0,r.jsx)(n.a,{href:"#netactorkeyframe",children:"Net.ActorKeyframe[]"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Interpolated animation for fancy effects."}),"\n",(0,r.jsx)(n.p,{children:'If a keyframe at duration 0 does not exist for a property, the client will default to initial values or a blank value. Ex: X/Y/Z will use the actor\'s current position, and "Sound Effect" would use blank / play no sounds.'}),"\n",(0,r.jsx)(n.p,{children:"The final state of the animation will stick to the bot, excluding sounds."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'local position = Net.get_bot_position(bot_id)\n\n-- a stretched jump. if the bot disappears, you may need to add a new tile layer\nlocal keyframes = {\n  {\n    properties = {\n      { property = "Z",      value = position.z + 1, ease = "Out" },\n      { property = "ScaleY", value = 1.5,            ease = "Out" }\n    },\n    duration = 0.5\n  },\n  {\n    properties = {\n      { property = "Z",      value = position.z, ease = "In" },\n      { property = "ScaleY", value = 1,          ease = "In" }\n    },\n    duration = 0.5\n  }\n}\n\nNet.animate_bot_properties(bot_id, keyframes)\n'})}),"\n",(0,r.jsxs)(n.p,{children:["If you need something to happen when the animation ends, you should use ",(0,r.jsx)(n.a,{href:"/server/lua-api/async#asyncsleepseconds",children:"Async.sleep()"})]}),"\n",(0,r.jsx)(n.h2,{id:"netactorkeyframe",children:"Net.ActorKeyframe"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:"---@class Net.ActorKeyframe\n---@field properties Net.ActorPropertyKeyframe[]\n---@field duration? number in seconds\n"})}),"\n",(0,r.jsx)(n.p,{children:"Expanded:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'keyframes: {\n  properties: {\n    property: "Animation" | "Animation Speed" | "X" | "Y" | "Z" | "ScaleX" | "ScaleY" | "Rotation" | "Direction" | "Sound Effect" | "Sound Effect Loop",\n    ease?: "Linear" | "In" | "Out" | "InOut" | "Floor",\n    value: number | string\n  }[],\n  duration: number\n}[]\n'})}),"\n",(0,r.jsx)(n.h2,{id:"netactorpropertykeyframe",children:"Net.ActorPropertyKeyframe"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-lua",children:'---@class Net.ActorPropertyKeyframe\n---@field property "Animation" | "Animation Speed" | "X" | "Y" | "Z" | "ScaleX" | "ScaleY" | "Rotation" | "Direction" | "Sound Effect" | "Sound Effect Loop"\n---@field ease? "Linear" | "In" | "Out" | "InOut" | "Floor",\n---@field value number | string\n'})})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>s});var r=t(6540);const a={},o=r.createContext(a);function i(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);