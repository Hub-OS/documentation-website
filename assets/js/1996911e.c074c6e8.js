"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[7220],{1539:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>d,default:()=>c,frontMatter:()=>n,metadata:()=>l,toc:()=>_});var i=t(4848),r=t(8453);const n={},d="Areas",l={id:"server/lua-api/areas",title:"Areas",description:"areaid is the filename without extension, ./assets/myarea.tmx would be my_area.",source:"@site/docs/02-server/04-lua-api/04-areas.md",sourceDirName:"02-server/04-lua-api",slug:"/server/lua-api/areas",permalink:"/server/lua-api/areas",draft:!1,unlisted:!1,editUrl:"https://github.com/Hub-OS/documentation-website/tree/master/docs/02-server/04-lua-api/04-areas.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{},sidebar:"serverSidebar",previous:{title:"Server Events",permalink:"/server/lua-api/events"},next:{title:"Objects",permalink:"/server/lua-api/objects"}},s={},_=[{value:"<code>Net.list_areas()</code>",id:"netlist_areas",level:3},{value:"<code>Net.is_area(area_id)</code>",id:"netis_areaarea_id",level:3},{value:"<code>Net.update_area(area_id, tmx_string)</code>",id:"netupdate_areaarea_id-tmx_string",level:3},{value:"<code>Net.clone_area(area_id, new_area_id)</code>",id:"netclone_areaarea_id-new_area_id",level:3},{value:"<code>Net.remove_area(area_id)</code>",id:"netremove_areaarea_id",level:3},{value:"<code>Net.area_to_string(area_id)</code>",id:"netarea_to_stringarea_id",level:3},{value:"<code>Net.get_layer_width(area_id)</code>",id:"netget_layer_widtharea_id",level:3},{value:"<code>Net.get_layer_height(area_id)</code>",id:"netget_layer_heightarea_id",level:3},{value:"<code>Net.get_layer_count(area_id)</code>",id:"netget_layer_countarea_id",level:3},{value:"<code>Net.get_tile_width(area_id)</code>",id:"netget_tile_widtharea_id",level:3},{value:"<code>Net.get_tile_height(area_id)</code>",id:"netget_tile_heightarea_id",level:3},{value:"<code>Net.world_to_screen_multi(area_id, x, y, z?)</code>",id:"networld_to_screen_multiarea_id-x-y-z",level:3},{value:"<code>Net.screen_to_world_multi(area_id, x, y)</code>",id:"netscreen_to_world_multiarea_id-x-y",level:3},{value:"<code>Net.get_area_custom_properties(area_id)</code>",id:"netget_area_custom_propertiesarea_id",level:3},{value:"<code>Net.get_area_custom_property(area_id, name)</code>",id:"netget_area_custom_propertyarea_id-name",level:3},{value:"<code>Net.set_area_custom_property(area_id, name, property_value)</code>",id:"netset_area_custom_propertyarea_id-name-property_value",level:3},{value:"<code>Net.get_area_name(area_id)</code>",id:"netget_area_namearea_id",level:3},{value:"<code>Net.set_area_name(area_id, name)</code>",id:"netset_area_namearea_id-name",level:3},{value:"<code>Net.get_music(area_id)</code>",id:"netget_musicarea_id",level:3},{value:"<code>Net.set_music(area_id, path)</code>",id:"netset_musicarea_id-path",level:3},{value:"<code>Net.get_background(area_id)</code>",id:"netget_backgroundarea_id",level:3},{value:"<code>Net.get_background_velocity(area_id)</code>",id:"netget_background_velocityarea_id",level:3},{value:"<code>Net.get_background_parallax(area_id)</code>",id:"netget_background_parallaxarea_id",level:3},{value:"<code>Net.set_background(area_id, texture_path, animation_path?, vel_x?, vel_y?, parallax?)</code>",id:"netset_backgroundarea_id-texture_path-animation_path-vel_x-vel_y-parallax",level:3},{value:"<code>Net.get_foreground(area_id)</code>",id:"netget_foregroundarea_id",level:3},{value:"<code>Net.get_foreground_velocity(area_id)</code>",id:"netget_foreground_velocityarea_id",level:3},{value:"<code>Net.get_foreground_parallax(area_id)</code>",id:"netget_foreground_parallaxarea_id",level:3},{value:"<code>Net.set_foreground(area_id, texture_path, animation_path?, vel_x?, vel_y?, parallax?)</code>",id:"netset_foregroundarea_id-texture_path-animation_path-vel_x-vel_y-parallax",level:3},{value:"<code>Net.get_spawn_position(area_id)</code>",id:"netget_spawn_positionarea_id",level:3},{value:"<code>Net.get_spawn_position_multi(area_id)</code>",id:"netget_spawn_position_multiarea_id",level:3},{value:"<code>Net.set_spawn_position(area_id, x, y, z)</code>",id:"netset_spawn_positionarea_id-x-y-z",level:3},{value:"<code>Net.get_spawn_direction(area_id)</code>",id:"netget_spawn_directionarea_id",level:3},{value:"<code>Net.set_spawn_direction(area_id, direction)</code>",id:"netset_spawn_directionarea_id-direction",level:3},{value:"<code>Net.list_tilesets(area_id)</code>",id:"netlist_tilesetsarea_id",level:3},{value:"<code>Net.get_tileset(area_id, tileset_path)</code>",id:"netget_tilesetarea_id-tileset_path",level:3},{value:"<code>Net.get_tileset_for_tile(area_id, tile_gid)</code>",id:"netget_tileset_for_tilearea_id-tile_gid",level:3},{value:"<code>Net.get_tile(area_id, x, y, z)</code>",id:"netget_tilearea_id-x-y-z",level:3},{value:"<code>Net.set_tile(area_id, x, y, z, tile_gid, flip_h?, flip_v?, rotate?)</code>",id:"netset_tilearea_id-x-y-z-tile_gid-flip_h-flip_v-rotate",level:3},{value:"<code>Net.provide_asset(area_id, path)</code>",id:"netprovide_assetarea_id-path",level:3},{value:"<code>Net.play_sound(area_id, path)</code>",id:"netplay_soundarea_id-path",level:3},{value:"Net.TilesetData",id:"nettilesetdata",level:2},{value:"Net.TileData",id:"nettiledata",level:2}];function o(e){const a={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.h1,{id:"areas",children:"Areas"}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.code,{children:"area_id"})," is the filename without extension, ",(0,i.jsx)(a.code,{children:"./assets/my_area.tmx"})," would be ",(0,i.jsx)(a.code,{children:"my_area"}),"."]}),"\n",(0,i.jsxs)(a.p,{children:["Positions are in tile space. To get the center of a tile add ",(0,i.jsx)(a.code,{children:"0.5"})]}),"\n",(0,i.jsx)(a.h3,{id:"netlist_areas",children:(0,i.jsx)(a.code,{children:"Net.list_areas()"})}),"\n",(0,i.jsx)(a.p,{children:"Returns a list of area_ids."}),"\n",(0,i.jsx)(a.h3,{id:"netis_areaarea_id",children:(0,i.jsx)(a.code,{children:"Net.is_area(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns true if the area_id matches an existing area."}),"\n",(0,i.jsx)(a.h3,{id:"netupdate_areaarea_id-tmx_string",children:(0,i.jsx)(a.code,{children:"Net.update_area(area_id, tmx_string)"})}),"\n",(0,i.jsx)(a.p,{children:"Overwrites all objects, tiles, and custom properties for the area, clients will be updated at the end of the tick."}),"\n",(0,i.jsx)(a.h3,{id:"netclone_areaarea_id-new_area_id",children:(0,i.jsx)(a.code,{children:"Net.clone_area(area_id, new_area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Creates a copy of an area. Includes objects and tiles."}),"\n",(0,i.jsx)(a.h3,{id:"netremove_areaarea_id",children:(0,i.jsx)(a.code,{children:"Net.remove_area(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Unloads an area, any players in this area are kicked."}),"\n",(0,i.jsx)(a.h3,{id:"netarea_to_stringarea_id",children:(0,i.jsx)(a.code,{children:"Net.area_to_string(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns a tmx string for an area."}),"\n",(0,i.jsx)(a.h3,{id:"netget_layer_widtharea_id",children:(0,i.jsx)(a.code,{children:"Net.get_layer_width(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the width for tile layers in tiles."}),"\n",(0,i.jsx)(a.h3,{id:"netget_layer_heightarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_layer_height(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the height for tile layers in tiles."}),"\n",(0,i.jsx)(a.h3,{id:"netget_layer_countarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_layer_count(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the number of layers within an area."}),"\n",(0,i.jsx)(a.h3,{id:"netget_tile_widtharea_id",children:(0,i.jsx)(a.code,{children:"Net.get_tile_width(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the screen width of a tile in pixels."}),"\n",(0,i.jsx)(a.h3,{id:"netget_tile_heightarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_tile_height(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the screen height of a tile in pixels."}),"\n",(0,i.jsx)(a.h3,{id:"networld_to_screen_multiarea_id-x-y-z",children:(0,i.jsx)(a.code,{children:"Net.world_to_screen_multi(area_id, x, y, z?)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the screen position using multi-values."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-lua",children:"local x, y = Net.world_to_screen_multi(area_id, x, y)\n"})}),"\n",(0,i.jsx)(a.h3,{id:"netscreen_to_world_multiarea_id-x-y",children:(0,i.jsx)(a.code,{children:"Net.screen_to_world_multi(area_id, x, y)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the world position using multi-values."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-lua",children:"local x, y = Net.screen_to_world_multi(area_id, x, y)\n"})}),"\n",(0,i.jsx)(a.h3,{id:"netget_area_custom_propertiesarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_area_custom_properties(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns a ",(0,i.jsx)(a.a,{href:"/server/lua-api/objects#netcustomproperties",children:"Net.CustomProperties"})]}),"\n",(0,i.jsx)(a.h3,{id:"netget_area_custom_propertyarea_id-name",children:(0,i.jsx)(a.code,{children:"Net.get_area_custom_property(area_id, name)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns a string value for the property matching the name."}),"\n",(0,i.jsx)(a.h3,{id:"netset_area_custom_propertyarea_id-name-property_value",children:(0,i.jsx)(a.code,{children:"Net.set_area_custom_property(area_id, name, property_value)"})}),"\n",(0,i.jsx)(a.p,{children:"Sets a value for the property matching the name."}),"\n",(0,i.jsx)(a.h3,{id:"netget_area_namearea_id",children:(0,i.jsx)(a.code,{children:"Net.get_area_name(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the name of the area, visible to the client."}),"\n",(0,i.jsx)(a.h3,{id:"netset_area_namearea_id-name",children:(0,i.jsx)(a.code,{children:"Net.set_area_name(area_id, name)"})}),"\n",(0,i.jsx)(a.p,{children:"Sets the name of the area, visible to the client."}),"\n",(0,i.jsx)(a.h3,{id:"netget_musicarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_music(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the path of the area's music."}),"\n",(0,i.jsx)(a.h3,{id:"netset_musicarea_id-path",children:(0,i.jsx)(a.code,{children:"Net.set_music(area_id, path)"})}),"\n",(0,i.jsx)(a.p,{children:"Changes the music for the area, players will be updated at the end of the tick."}),"\n",(0,i.jsx)(a.h3,{id:"netget_backgroundarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_background(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.a,{href:"/server/lua-api/widgets#nettextureanimationpair",children:"Net.TextureAnimationPair"})]}),"\n",(0,i.jsx)(a.h3,{id:"netget_background_velocityarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_background_velocity(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.code,{children:"{ x: number, y: number }"})]}),"\n",(0,i.jsx)(a.h3,{id:"netget_background_parallaxarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_background_parallax(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns a number representing how strongly the player's position affects the background."}),"\n",(0,i.jsx)(a.h3,{id:"netset_backgroundarea_id-texture_path-animation_path-vel_x-vel_y-parallax",children:(0,i.jsx)(a.code,{children:"Net.set_background(area_id, texture_path, animation_path?, vel_x?, vel_y?, parallax?)"})}),"\n",(0,i.jsx)(a.p,{children:"Modifies background properties all at once, players will be updated at the end of the tick."}),"\n",(0,i.jsx)(a.h3,{id:"netget_foregroundarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_foreground(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.a,{href:"/server/lua-api/widgets#nettextureanimationpair",children:"Net.TextureAnimationPair"})]}),"\n",(0,i.jsx)(a.h3,{id:"netget_foreground_velocityarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_foreground_velocity(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.code,{children:"{ x: number, y: number }"})]}),"\n",(0,i.jsx)(a.h3,{id:"netget_foreground_parallaxarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_foreground_parallax(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns a number representing how strongly the player's position affects the foreground."}),"\n",(0,i.jsx)(a.h3,{id:"netset_foregroundarea_id-texture_path-animation_path-vel_x-vel_y-parallax",children:(0,i.jsx)(a.code,{children:"Net.set_foreground(area_id, texture_path, animation_path?, vel_x?, vel_y?, parallax?)"})}),"\n",(0,i.jsx)(a.p,{children:"Modifies foreground properties all at once, players will be updated at the end of the tick."}),"\n",(0,i.jsx)(a.h3,{id:"netget_spawn_positionarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_spawn_position(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.a,{href:"/server/lua-api/misc#netposition",children:"Net.Position"})]}),"\n",(0,i.jsx)(a.p,{children:"Defaults to either the Home Warp or (0, 0, 0)"}),"\n",(0,i.jsx)(a.h3,{id:"netget_spawn_position_multiarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_spawn_position_multi(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns the spawn position using multi-values."}),"\n",(0,i.jsx)(a.p,{children:"Defaults to either the Home Warp or (0, 0, 0)"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-lua",children:"local x, y, z = Net.get_spawn_position_multi(area_id)\n"})}),"\n",(0,i.jsx)(a.h3,{id:"netset_spawn_positionarea_id-x-y-z",children:(0,i.jsx)(a.code,{children:"Net.set_spawn_position(area_id, x, y, z)"})}),"\n",(0,i.jsx)(a.p,{children:"Sets the default spawn position for players entering the area."}),"\n",(0,i.jsx)(a.h3,{id:"netget_spawn_directionarea_id",children:(0,i.jsx)(a.code,{children:"Net.get_spawn_direction(area_id)"})}),"\n",(0,i.jsx)(a.p,{children:"Returns a string representing the spawn direction."}),"\n",(0,i.jsxs)(a.p,{children:["Defaults the Home Warp's ",(0,i.jsx)(a.code,{children:"Direction"})," custom property."]}),"\n",(0,i.jsx)(a.h3,{id:"netset_spawn_directionarea_id-direction",children:(0,i.jsx)(a.code,{children:"Net.set_spawn_direction(area_id, direction)"})}),"\n",(0,i.jsx)(a.p,{children:"Sets the default spawn direction for players entering the area."}),"\n",(0,i.jsx)(a.h3,{id:"netlist_tilesetsarea_id",children:(0,i.jsx)(a.code,{children:"Net.list_tilesets(area_id)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns a list of ",(0,i.jsx)(a.code,{children:"tileset_path"}),"s"]}),"\n",(0,i.jsx)(a.h3,{id:"netget_tilesetarea_id-tileset_path",children:(0,i.jsx)(a.code,{children:"Net.get_tileset(area_id, tileset_path)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.a,{href:"#nettilesetdata",children:"Net.TilesetData"})," or ",(0,i.jsx)(a.code,{children:"nil"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"netget_tileset_for_tilearea_id-tile_gid",children:(0,i.jsx)(a.code,{children:"Net.get_tileset_for_tile(area_id, tile_gid)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.a,{href:"#nettilesetdata",children:"Net.TilesetData"})," or ",(0,i.jsx)(a.code,{children:"nil"}),"."]}),"\n",(0,i.jsxs)(a.p,{children:["Note: The same ",(0,i.jsx)(a.code,{children:"tile_gid"})," can return different values for different areas."]}),"\n",(0,i.jsx)(a.h3,{id:"netget_tilearea_id-x-y-z",children:(0,i.jsx)(a.code,{children:"Net.get_tile(area_id, x, y, z)"})}),"\n",(0,i.jsxs)(a.p,{children:["Returns ",(0,i.jsx)(a.a,{href:"#nettiledata",children:"Net.TileData"})]}),"\n",(0,i.jsx)(a.h3,{id:"netset_tilearea_id-x-y-z-tile_gid-flip_h-flip_v-rotate",children:(0,i.jsx)(a.code,{children:"Net.set_tile(area_id, x, y, z, tile_gid, flip_h?, flip_v?, rotate?)"})}),"\n",(0,i.jsx)(a.p,{children:"Sets the tile at the specified position, updates are merged and sent to players at the end of the tick."}),"\n",(0,i.jsx)(a.h3,{id:"netprovide_assetarea_id-path",children:(0,i.jsx)(a.code,{children:"Net.provide_asset(area_id, path)"})}),"\n",(0,i.jsx)(a.p,{children:"Marks the asset as a dependency for the area, forcing joining players to download the asset before being able to play."}),"\n",(0,i.jsx)(a.p,{children:"Useful for avoiding lag spikes during gameplay with dynamically loaded large assets. (Playing sound effects)"}),"\n",(0,i.jsx)(a.h3,{id:"netplay_soundarea_id-path",children:(0,i.jsx)(a.code,{children:"Net.play_sound(area_id, path)"})}),"\n",(0,i.jsx)(a.p,{children:"Plays a sound for every player within the area."}),"\n",(0,i.jsx)(a.h2,{id:"nettilesetdata",children:"Net.TilesetData"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-lua",children:"---@class Net.TilesetData\n---@field path string\n---@field first_gid number\n"})}),"\n",(0,i.jsx)(a.h2,{id:"nettiledata",children:"Net.TileData"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-lua",children:"---@class Net.TileData\n---@field gid number\n---@field flipped_horizontally boolean\n---@field flipped_vertically boolean\n---@field rotated boolean\n"})})]})}function c(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},8453:(e,a,t)=>{t.d(a,{R:()=>d,x:()=>l});var i=t(6540);const r={},n=i.createContext(r);function d(e){const a=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(n.Provider,{value:a},e.children)}}}]);