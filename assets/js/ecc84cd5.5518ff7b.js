"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[1104],{7115:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>d});var t=n(4848),l=n(8453);const s={},r="Breaking Changes",a={id:"client/breaking-changes",title:"Breaking Changes",description:"https://github.com/Hub-OS/mod-upgrade-tool",source:"@site/docs/01-client/breaking-changes.md",sourceDirName:"01-client",slug:"/client/breaking-changes",permalink:"/client/breaking-changes",draft:!1,unlisted:!1,editUrl:"https://github.com/Hub-OS/documentation-website/tree/master/docs/01-client/breaking-changes.md",tags:[],version:"current",frontMatter:{},sidebar:"clientSidebar",previous:{title:"Debug Hotkeys",permalink:"/client/debug-hotkeys"}},c={},d=[{value:"0.17",id:"017",level:2},{value:"0.13",id:"013",level:2},{value:"0.12",id:"012",level:2},{value:"0.11",id:"011",level:2},{value:"0.10",id:"010",level:2},{value:"0.9",id:"09",level:2},{value:"0.3",id:"03",level:2},{value:"0.2",id:"02",level:2},{value:"0.1",id:"01",level:2}];function o(e){const i={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...(0,l.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"breaking-changes",children:"Breaking Changes"}),"\n",(0,t.jsx)(i.p,{children:(0,t.jsx)(i.a,{href:"https://github.com/Hub-OS/mod-upgrade-tool",children:"https://github.com/Hub-OS/mod-upgrade-tool"})}),"\n",(0,t.jsx)(i.h2,{id:"017",children:"0.17"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Removed ",(0,t.jsx)(i.code,{children:"animation:derive_state()"}),", replaced with a new parameter on ",(0,t.jsxs)(i.a,{href:"/client/lua-api/resource-api/animation#animationset_statestate-frame_data",children:["animation",":set_state","()"]})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"013",children:"0.13"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"player_form:set_mugshot_texture_path()"})," -> ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/player#player_formset_mugshot_texturepath",children:["player_form",":set_mugshot_texture","()"]})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"012",children:"0.12"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Actions no longer revert to previous animation state on completion for non Players.","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Fixed by defining ",(0,t.jsx)(i.a,{href:"/client/lua-api/entity-api/entity#entityon_idle_func--functionself",children:"on_idle_func"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed [tile",":highlight","()] to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/tile#tileset_highlighthighlight",children:["tile",":set_highlight","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed component ",(0,t.jsx)(i.code,{children:"Lifetimes"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/entity-api/entity#entitycreate_componentlifetime",children:"Lifetime"})]}),"\n",(0,t.jsxs)(i.li,{children:["AuxProp ",(0,t.jsx)(i.code,{children:"increase_"}),"/",(0,t.jsx)(i.code,{children:"decrease_"})," effects now add/subtract rather than set final values."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"011",children:"0.11"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Modified ",(0,t.jsx)(i.code,{children:"field:find_*"}),' functions to search through all spawned entities, not just "hittable" entities.',"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Artifacts will now appear in ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/field#fieldfind_entitiesfunctionentity-boolean",children:["field",":find_entities","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityhittable",children:["entity",":hittable","()"]})," can be utilized in the filter function for previous behavior"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"player:get_augments()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/player#playeraugments",children:["player",":augments","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Movement.new()"})," replaced with more specific constructors."]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"player:slide_when_moving()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/player#playerset_slide_when_movingbool",children:["player",":set_slide_when_moving","()"]}),"."]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"010",children:"0.10"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"card_properties.meta_classes"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/attack-api/cards#card_propertiestags",children:"card_properties.tags"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"sprite:never_flip(bool?)"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/resource-api/sprite#spriteset_never_flipnever_flip",children:["sprite",":set_never_flip","(bool?)"]})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"09",children:"0.9"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Replaced AudioPriority with ",(0,t.jsx)(i.a,{href:"/client/lua-api/resource-api/resources#audiobehavior",children:"AudioBehavior"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"03",children:"0.3"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:'Renamed "enemies" folder to "encounters"'}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"battle_init"})," to ",(0,t.jsx)(i.code,{children:"encounter_init"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"battle"})," mod category to ",(0,t.jsx)(i.code,{children:"encounter"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"include"})," to ",(0,t.jsx)(i.code,{children:"require"})]}),"\n",(0,t.jsxs)(i.li,{children:["Removed ",(0,t.jsx)(i.code,{children:"is_"})," and ",(0,t.jsx)(i.code,{children:"get_"})," prefix for direct getters"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"Engine"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/resource-api/resources#resourcesplay_musicpath-loops",children:"Resources"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"Engine.stream_music()"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/resource-api/resources",children:"Resources.play_music()"})]}),"\n",(0,t.jsxs)(i.li,{children:["Move ",(0,t.jsx)(i.code,{children:"Engine"})," turn gauge functions to ",(0,t.jsx)(i.a,{href:"/client/lua-api/attack-api/turn-gauge",children:"TurnGauge"})]}),"\n",(0,t.jsxs)(i.li,{children:["Removed ",(0,t.jsx)(i.code,{children:"Battle."})," prefix"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"Battle.CardAction"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/attack-api/action",children:"Action"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"card_properties.shortname"})," to ",(0,t.jsx)(i.code,{children:"card_properties.short_name"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:card_action_event()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityqueue_actionaction",children:["entity",":queue_action","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"action:get_actor()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/attack-api/action#actionowner",children:["action",":owner","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"action:copy_metadata()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/attack-api/action#actioncopy_card_properties",children:["action",":copy_card_properties","()"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Replacement / removal is under consideration."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"action:set_metadata()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/attack-api/action#actionset_card_propertiescard_properties",children:["action",":set_card_properties","()"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Replacement / removal is under consideration."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"Hit.Stun"})," to ",(0,t.jsx)(i.code,{children:"Hit.Paralyze"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"spell:highlight_tile()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/spell/#spellset_tile_highlighthighlight",children:["spell",":set_tile_highlight","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Removed ",(0,t.jsx)(i.code,{children:"tile:is_cracked()"}),", ",(0,t.jsx)(i.code,{children:"tile:is_hidden()"}),", and ",(0,t.jsx)(i.code,{children:"tile:is_hole()"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"not tile:is_walkable()"})," can be used where ",(0,t.jsx)(i.code,{children:"tile:is_hole()"})," is called"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"tile:reserve_entity_by_id()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/tile#tilereserve_for_identity_id",children:["tile",":reserve_for_id","()"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Added ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/tile#tilereserve_forentity",children:["tile",":reserve_for","(entity)"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Added ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/tile#tileremove_reservation_for_identity_id",children:["tile",":remove_reservation_for_id","(entity_id)"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Added ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/tile#tileremove_reservation_forentity",children:["tile",":remove_reservation_for","(entity)"]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"TileState.Empty"})," to ",(0,t.jsx)(i.code,{children:"TileState.PermaHole"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"MoveAction"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/field-api/movement",children:"Movement"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:raw_move_event()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityqueue_movementmovement",children:["entity",":queue_movement","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:share_tile()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityenable_sharing_tileshare",children:["entity",":enable_sharing_tile","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:set_float_shoe()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityignore_negative_tile_effectsenabled",children:["entity",":ignore_negative_tile_effects","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:set_air_shoe()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityignore_hole_tilesenabled",children:["entity",":ignore_hole_tiles","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:get_current_palette()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entitypalette",children:["entity",":palette","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"entity:set_animation(path)"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityload_animationpath",children:["entity",":load_animation","(path)"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"sprite:show()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/resource-api/sprite#spritereveal",children:["sprite",":reveal","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"sprite:enable_parent_shader()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/resource-api/sprite#spriteuse_root_shaderenable",children:["sprite",":use_root_shader","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"animation:refresh(sprite)"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/resource-api/animation#animationapplysprite",children:["animation",":apply","(sprite)"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Moved ",(0,t.jsx)(i.code,{children:"entity:shake_camera()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/field-api/field#fieldshakestrength-duration",children:["field",":shake","()"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Also accepts game frames instead of seconds"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"living:toggle_hitbox()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/living#livingenable_hitboxenabled",children:["living",":enabled_hitbox","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"living:toggle_counter()"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/living#livingset_counterableenabled",children:["living",":set_counterable","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Moved ",(0,t.jsx)(i.code,{children:"IntangibleRule"})," to ",(0,t.jsx)(i.a,{href:"/client/lua-api/defense-api/intangible-rule",children:"IntangibleRule"})]}),"\n",(0,t.jsxs)(i.li,{children:["Renamed ",(0,t.jsx)(i.code,{children:"Lifetime.Battlestep"})," to ",(0,t.jsx)(i.code,{children:"Lifetime.Battle"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"02",children:"0.2"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"package_init"})," and ",(0,t.jsx)(i.code,{children:"package_requires_scripts"})," removed, replaced with ",(0,t.jsx)(i.a,{href:"/client/packages",children:"package.toml"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"mods/blocks -> mods/augments"}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"block:set_mutator()"})," -> ",(0,t.jsx)(i.code,{children:"function augment_init(augment)"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"charge_boost"})," + ",(0,t.jsx)(i.code,{children:"attack_boost"})," + ",(0,t.jsx)(i.code,{children:"rapid_boost"})," in ",(0,t.jsx)(i.a,{href:"/client/packages",children:"package.toml"})," for blocks"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["For battles: ",(0,t.jsx)(i.code,{children:"package_build"})," -> ",(0,t.jsx)(i.code,{children:"battle_init"})]}),"\n",(0,t.jsxs)(i.li,{children:["For characters: ",(0,t.jsx)(i.code,{children:"package_init"})," -> ",(0,t.jsx)(i.code,{children:"character_init"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"01",children:"0.1"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.a,{href:"/client/lua-api/entity-api/entity#entityon_delete_func--functionself",children:"entity.on_delete_func"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Requires call to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entityerase",children:["entity",":erase","()"]}),", ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entitydefault_character_delete",children:["entity",":default_character_delete","()"]}),", or ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entitydefault_player_delete",children:["entity",":default_player_delete","()"]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"charged_time_table_func"})," -> ",(0,t.jsx)(i.a,{href:"/client/lua-api/entity-api/player#playercalculate_charge_time_func--functionself-number",children:"calculate_charge_time_func"})]}),"\n",(0,t.jsxs)(i.li,{children:["Simplified ",(0,t.jsx)(i.code,{children:"Battle.Step.new()"})," + ",(0,t.jsx)(i.code,{children:"card_action:add_step(step)"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/attack-api/action#actioncreate_step",children:["card_action",":create_step","()"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Simplified ",(0,t.jsx)(i.code,{children:"Battle.Component.new(lifetime)"})," + ",(0,t.jsx)(i.code,{children:"entity:register_component(component)"})," to ",(0,t.jsxs)(i.a,{href:"/client/lua-api/entity-api/entity#entitycreate_componentlifetime",children:["entity",":create_component","(lifetime)"]})]}),"\n",(0,t.jsxs)(i.li,{children:["Removed ",(0,t.jsx)(i.code,{children:"frames(number)"}),", just use the number directly"]}),"\n",(0,t.jsxs)(i.li,{children:["Removed ",(0,t.jsx)(i.code,{children:"make_frame_data(data)"}),", just use the data directly"]}),"\n",(0,t.jsxs)(i.li,{children:["Removed the ",(0,t.jsx)(i.code,{children:"dt"})," param from ",(0,t.jsx)(i.code,{children:"entity.on_update_func()"})]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,l.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>a});var t=n(6540);const l={},s=t.createContext(l);function r(e){const i=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:i},e.children)}}}]);